# CNSP Workshop 2025 -  mTRF Tutorial

In this folder you'll find the resources needed to follow along with the mTRFtoolbox tutorial.

This folder is meant to reside within the CNSP-resources/CNSP/ folder so that it has access to the datasets and libs folder contained there. The easiest way to set this up is to clone or download the entire CNSP-resources repository to your local drive, which will include the items in this folder. Otherwise, this folder can be downloaded separately and placed inside an already-working CNSP folder.

Once your folders are set up, you'll need to add data to ../datasets/[dataset]/. There are three options (in increasing difficulty):

1. The tutorial will focus on data from one subject, subject 10, which is included inside the tutorial folder. Simply move the ./dataCND/ folder and its contents from tutorial to ../datasets/LalorNatSpeech/ and you are set up for the tutorial. Note: no pre-processing is needed as the two .mat files included are already the preprocessed versions of subject 10's data.)

2. You can also download the full Natural Speech dataset or any other dataset you want to use during the tutorial, from [the CNSP resources page](https://cnspworkshop.net/resources.html). Because each dataset is in CND format, you should be able to run each tutorial with any dataset with minimal code modification. A few that might make sense to use in the tutorial are:

    - [LalorNatSpeech](https://www.data.cnspworkshop.net/data/datasetCND_LalorNatSpeech.zip) [3.2GB] - 		19 adults, each listening to ~50 minutes of an audiobook (20 Ã— 2.5 minute trials). Two stimulus features - speech envelope and word onset. Papers: [di Liberto et al., 2015](https://doi.org/10.1016/j.cub.2015.08.030) | [Broderick et al., 2018](https://doi.org/10.1016/j.cub.2018.01.080).
    - [LalorNatSpeechReverse](https://www.data.cnspworkshop.net/data/datasetCND_LalorNatSpeechReverse.zip) [1.9GB] - 10 adults listening to the same audiobook, but in reverse. Same stimulus features as in the LalorNatSpeech dataset (but time-reversed). Paper: [di Liberto et al., 2015](https://doi.org/10.1016/j.cub.2015.08.030).
    - [diliBach](https://www.data.cnspworkshop.net/data/datasetCND_diliBach.zip) [5.6 GB] - 20 adults listening to monophonic Bach pieces (synthesised with piano). Features include envelope, note onset, 4 IDyOM surprise and entropy vectors (surprise of pitch, entropy of pitch, surprise of onset-time, entropy of onset-time). Paper: [Di Liberto et al., 2020](https://doi.org/10.7554/eLife.51784).
    - [musicImagery](https://www.data.cnspworkshop.net/data/datasetCND_musicImagery.zip) [1.5GB] - 21 adults listening and imagining four monophonic Bach pieces with the same tempo, while being presented with a metronome via a vibrotactile device on the ankle. Papers: [Marion et al., 2021](https://doi.org/10.1523/JNEUROSCI.0183-21.2021) | [di Liberto et al., 2021](https://doi.org/10.1523/JNEUROSCI.0184-21.2021).

	To use these datasets, download, unzip, and place the extracted folder into the datasets folder (e.g., `dataStim.mat` and `[pre_]dataSub*.mat` files should be within ../datasets/LalorNatSpeech/dataCND/). The data will then need to be preprocessed. To preprocess the data, run `CND_preprocessing.m` with appropriate code changes to point to the dataset of interest. Then, the folder definition in `line 39` of the tutorial code should be updated to the location of these data. (Note: the datasets that were not originally shared by using the CND format were converted to CND and the conversion scripts were included in the folder structure, but they will not be needed for the CNSP workshop tutorials.)

3. It is also possible to use the tutorial with your own data. This method is untested obviously, but we have developed a [guide](https://drive.google.com/file/d/1eLYX-NOItJoj3m7XEqbaLMFsHb16H5Y2/view?usp=drive_link) to help format your dataset to the CND format to use with CNSP utilities and tutorial code. Again you will need to place your dataset in ../datasets/[your-dataset-name], making sure the folder structure is what the code expects, and finally update the folder definition in the tutorial script. If you've converted your dataset to CND, please consider sharing (e.g., Zenodo, Dryad, OpenNeuro, or directly on the CNSP website). We can then add your publicly available datasets to our list on the CNSP resources page.

If you have any questions, feel free to reach out on our Discord. You can join the server [here](https://discord.gg/FCc9TUK9tv), and post any issues in [this channel](https://discord.com/channels/1397958320165224642/1403107436944167013).